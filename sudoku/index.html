<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku | Sai Santosh</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="bg-overlay"></div>
    <div class="bg-blur"></div>

    <!-- Start Popup -->
    <div class="startup-modal" id="start-modal">
        <div class="modal-content">
            <h1>SUDOKU</h1>
            <p style="color: var(--text-secondary); margin-bottom: 2rem; font-weight: 800;">MASTER THE GRID.</p>
            <div class="diff-selection" style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem;">
                <button class="num-btn diff-btn"
                    style="height: 60px; font-size: 1.2rem; padding: 0 1.5rem;"
                    onclick="setDifficulty('easy')">EASY</button>
                <button class="num-btn diff-btn"
                    style="height: 60px; font-size: 1.2rem; padding: 0 1.5rem; background: var(--accent-primary); color: #000;"
                    onclick="setDifficulty('medium')">MEDIUM</button>
                <button class="num-btn diff-btn"
                    style="height: 60px; font-size: 1.2rem; padding: 0 1.5rem;"
                    onclick="setDifficulty('hard')">HARD</button>
            </div>
            <button class="start-btn" id="start-game-btn">START SESSION</button>
        </div>
    </div>

    <header>
        <div class="header-top">
            <h1>SUDOKU</h1>
            <button id="theme-toggle" class="theme-btn"><i class="fas fa-moon"></i></button>
        </div>
        <div class="status-bar">
            <div class="status-item"><i class="fas fa-bolt"></i> <span id="difficulty-text">MEDIUM</span></div>
            <div class="status-item"><i class="far fa-clock"></i> <span id="timer">00:00</span></div>
            <div class="status-item"><i class="fas fa-exclamation-triangle"></i> <span id="mistakes">0</span>/5</div>
        </div>
    </header>

    <div class="main-wrapper">
        <!-- Stats Side -->
        <div class="side-panel">
            <div class="stats-card">
                <h3 style="font-weight: 900; margin-bottom: 1rem;">GAME SESSION</h3>
                <div class="stat-row" style="display: flex; justify-content: space-between; font-weight: 800;">
                    <span>PROGRESS</span>
                    <span id="progress">0%</span>
                </div>
                <div class="stat-row" style="margin-top: 2rem; display: flex; flex-direction: column; gap: 1rem;">
                    <button class="num-btn" onclick="window.initSudoku('easy')"
                        style="font-size: 1rem; height: 50px; background: transparent; border-color: #000;">EASY
                        MODE</button>
                    <button class="num-btn" onclick="window.initSudoku('hard')"
                        style="font-size: 1rem; height: 50px; background: transparent; border-color: #000;">HARD
                        MODE</button>
                </div>
            </div>
        </div>

        <!-- The Big Table -->
        <main class="game-container">
            <div class="sudoku-grid" id="grid">
                <!-- 81 Cells -->
            </div>
        </main>

        <!-- Input Panel -->
        <div class="side-panel">
            <div class="number-selector">
                <button class="num-btn">1</button>
                <button class="num-btn">2</button>
                <button class="num-btn">3</button>
                <button class="num-btn">4</button>
                <button class="num-btn">5</button>
                <button class="num-btn">6</button>
                <button class="num-btn">7</button>
                <button class="num-btn">8</button>
                <button class="num-btn">9</button>
                <button class="num-btn erase" style="grid-column: span 3; color: var(--wrong-val);"><i
                        class="fas fa-backspace"></i> ERASE</button>
            </div>
            <button class="num-btn" id="reboot-btn"
                style="background: var(--accent-primary); font-size: 1.2rem; margin-top: 1rem;">REBOOT GRID</button>
        </div>
    </div>

    <script src="js/game.js"></script>
    <script>
        function setDifficulty(d) {
            document.getElementById('difficulty-text').textContent = d.toUpperCase();
            document.querySelectorAll('.diff-selection .num-btn').forEach(b => b.style.opacity = '0.5');
            event.target.style.opacity = '1';
        }
    </script>
</body>

</html>